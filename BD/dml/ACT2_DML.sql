CREATE TABLE CICLISTA 
(
NOMBRECICLISTA VARCHAR2(30),
FECHANACIMIENTO DATE,
NACIONALIDAD VARCHAR2(30),
CONSTRAINT PK_CICLISTA PRIMARY KEY (NOMBRECICLISTA)
);

CREATE TABLE EQUIPO 
(
NOMBREEQUIPO VARCHAR2(30),
CONSTRAINT PK_EQUIPO PRIMARY KEY ( NOMBREEQUIPO)
);

CREATE TABLE PERTENECE
(
NOMBREEQUIPO VARCHAR2(30),
NOMBRECICLISTA VARCHAR2(30),
CONSTRAINT PK_PERTENECE PRIMARY KEY (NOMBREEQUIPO,NOMBRECICLISTA),
CONSTRAINT FK1_PERTENECE FOREIGN KEY ( NOMBREEQUIPO) REFERENCES EQUIPO(NOMBREEQUIPO),
CONSTRAINT FK2_PERTENECE FOREIGN KEY ( NOMBRECICLISTA) REFERENCES CICLISTA ( NOMBRECICLISTA)
);

CREATE TABLE PRUEBA 
(
NOMBREPRUEBA VARCHAR2(30),
KMTOTALES NUMBER,
ANYO DATE,
NOMBRECICLISTA VARCHAR2(30),
CONSTRAINT PK_PRUEBA PRIMARY KEY ( NOMBREPRUEBA),
CONSTRAINT FK1_PRUEBA FOREIGN KEY ( NOMBRECICLISTA ) REFERENCES CICLISTA( NOMBRECICLISTA)
);

ALTER TABLE PRUEBA ADD PUESTOPRUEBA VARCHAR2(30);


--AÑADRI EQUIPO 
INSERT INTO EQUIPO VALUES('MOVISTAR');
INSERT INTO EQUIPO VALUES('JUMBO');
INSERT INTO EQUIPO VALUES('BORA');
INSERT INTO EQUIPO VALUES('UAE TEAM');

--AÑADIR CICLISTA 
INSERT INTO CICLISTA VALUES ('ALEJANDRO VALVERDE',TO_DATE('25/04/1980','DD/MM/YYYY'),'ESPAÑOL');
INSERT INTO CICLISTA VALUES ('ALEJANDRA VALVERDE',TO_DATE('25/04/1980','DD/MM/YYYY'),'ESPAÑOL');
INSERT INTO CICLISTA VALUES ('MATHIAS NORSGAARD',TO_DATE('01/05/1997','DD/MM/YYYY'),'DANES');
INSERT INTO CICLISTA VALUES ('PRIMOX ROGLIC',TO_DATE('01/01/1997','DD/MM/YYYY'),'ESLOVENO');
INSERT INTO CICLISTA VALUES ('R.GESINK',TO_DATE('01/05/2003','DD/MM/YYYY'),'HOLANDES');
INSERT INTO CICLISTA VALUES ('S.BENNETT',TO_DATE('03/08/2000','DD/MM/YYYY'),'IRALNDES');
INSERT INTO CICLISTA VALUES ('M.SOLER',TO_DATE('09/11/2003','DD/MM/YYYY'),'ESPAÑOL');

--AÑADIR ETAPAS
INSERT INTO PRUEBA VALUES('E1_2022',23,TO_DATE('2022','YYYY'),'R.GESINK','GANADOR');
INSERT INTO PRUEBA VALUES('E2_2022',175,TO_DATE('2022','YYYY'),'PRIMOX ROGLIC','GANADOR');
INSERT INTO PRUEBA VALUES('E3_2022',193,TO_DATE('2022','YYYY'),'S.BENNETT','GANADOR');
INSERT INTO PRUEBA VALUES('E1_2021',154,TO_DATE('2021','YYYY'),'S.BENNETT','GANADOR');
INSERT INTO PRUEBA VALUES('E2_2021',189,TO_DATE('2021','YYYY'),'M.SOLER','GANADOR');
INSERT INTO PRUEBA VALUES('E1_2020',40,TO_DATE('2020','YYYY'),'ALEJANDRO VALVERDE','GANADOR');

--AÑIADIR EQUIPOS 
INSERT INTO PERTENECE VALUES('MOVISTAR','ALEJANDRO VALVERDE');
INSERT INTO PERTENECE VALUES('MOVISTAR','ALEJANDRA VALVERDE');
INSERT INTO PERTENECE VALUES('MOVISTAR','MATHIAS NORSGAARD');
INSERT INTO PERTENECE VALUES('JUMBO','PRIMOX ROGLIC');
INSERT INTO PERTENECE VALUES('BORA','R.GESINK');
INSERT INTO PERTENECE VALUES('UAE TEAM','M.SOLER');

--ACTUALIZAR
UPDATE CONTRARRELOJ||ANYO;

--CICLISTAS ESPAÑOLES
CREATE TABLE CICLISTASESPANOLES 
(
NOMBRECICLISTAS VARCHAR2(30),
NOMBREEQUIPO VARCHAR2(30),
CONSTRAINT PK_CILISTACASESPANOLES PRIMARY KEY (NOMBRECICLISTAS,NOMBREEQUIPO),
CONSTRAINT FK1_CICLISTACASESPANOLES FOREIGN KEY ( NOMBRECICLISTAS) REFERENCES CICLISTA(NOMBRECICLISTA),
CONSTRAINT FK2_CICLISTACASESPANOLES FOREIGN KEY ( NOMBREEQUIPO) REFERENCES EQUIPO(NOMBREEQUIPO) 
);


